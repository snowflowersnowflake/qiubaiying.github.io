---
layout:     post
title:      齐次坐标系的理解
subtitle:   #1
date:       2020-04-01
author:     y00
header-img: img/1.jpg
catalog: true
tags:
    - CV
---

# 简介
在计算机图形学中，我们通常要引用齐次坐标系来表示平移变换,在学习《slam十四讲》的过程中，书中描述了欧拉变换定理，即一个三维空间中，刚体的一次运动可以分解为一次平移变换加上一次旋转变换。

对于平移变换的过程，我们通常需要进行形如(x,y,z,w)T=>(x/w,y/w,z/w,1)T的一个齐次坐标系的变换过程，但对于这样做带来的好处我还不太清楚，因此进行了一些资料的查阅。

看到知乎上有一个这样的回答非常好，[这里直接引用](https://www.zhihu.com/question/26655998/answer/43847213)

通常对于一个平移变换r（点）+t（向量变换）来说，直接进行对应坐标求和即可：

$r+t:(r_x,r_y,r_z)+(t_x,t_y,t_z)$

在计算机图形学中，坐标转换通常不是单一的，一个几何体在每一帧可能都设计了多个平移，旋转，缩放等变化，这些变化我们通常使用串接各个子变化矩阵的方式得到一个最终变化矩阵，从而减少计算量。**所以我们需要把向量对点的求和用矩阵的变换来表达**。

**显然上述点+向量的形式很难直接用矩阵乘法运算表示**（ 即难以找到一个矩阵m，让r+t==r*m ) ,但是如果采用齐次坐标系，加入一个新维度构成（x，y,z,1）,则r+t可以用矩阵乘法的形式表达。引入新维度之后，可以写成三角矩阵，可以很方便实现（r*m=>（r_x+m_x,r_y+m_y,r_z+m_z,1））的计算过程，这时候相当于把矩阵变换用点与向量的求和运算等价。那么对于变换的处理来说，可以用齐次坐标系进行仿射变换，然后最后去掉一个维度，将生成的新三维坐标恢复到原来的-1维度状态即可。

因为不方便插入图片和公式，具体的运算过程可以参考回答并通过引入新维度纸上演算一下来感受。

同时，参考[这篇博客]（https://www.cnblogs.com/csyisong/archive/2008/12/09/1351372.html)可以知道齐次坐标系带来了另一个好处，**可以用新的维度来区分点和向量**：

1)从普通坐标转换成齐次坐标时

   如果(x,y,z)是个点，则变为(x,y,z,1);

   如果(x,y,z)是个向量，则变为(x,y,z,0)

2)从齐次坐标转换成普通坐标时   

   如果是(x,y,z,1)，则知道它是个点，变成(x,y,z);

   如果是(x,y,z,0)，则知道它是个向量，仍然变成(x,y,z)

综合来看，齐次坐标系带来了运算和表达上的双重遍历。在实际计算中，我们只需要进行上述1和2的变换和恢复过程，中间过程用齐次坐标系下的矩阵乘法可以轻松表达起点和中间之间经历的平移变换过程。
 
